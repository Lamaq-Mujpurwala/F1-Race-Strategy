schema: '2.0'
stages:
  extract:
    cmd: python src/pipelines/extract.py
    deps:
    - path: src/pipelines/extract.py
      hash: md5
      md5: d42f05d8166f03e73465368a77c1e2b6
      size: 5840
    params:
      params.yaml:
        extract.end_year: 2024
        extract.output_path: data/raw/
        extract.start_year: 2018
    outs:
    - path: data/raw/
      hash: md5
      md5: 601db97f975c9521c7773a643e64ccc0.dir
      size: 14617842
      nfiles: 7
  combine:
    cmd: python src/pipelines/combine.py
    deps:
    - path: data/raw/
      hash: md5
      md5: 601db97f975c9521c7773a643e64ccc0.dir
      size: 14617842
      nfiles: 7
    - path: src/pipelines/combine.py
      hash: md5
      md5: 172a7e7aeffe37548507c801fd70ff22
      size: 1954
    params:
      params.yaml:
        combine.end_year: 2025
        combine.file_name: all_laps.csv
        combine.input_path: data/raw
        combine.output_path: data/combined
        combine.start_year: 2019
    outs:
    - path: data/combined/
      hash: md5
      md5: 3224505beedbd825de6494d9d369d92f.dir
      size: 12440780
      nfiles: 1
  transform:
    cmd: python src/pipelines/transform.py
    deps:
    - path: data/combined/
      hash: md5
      md5: 3224505beedbd825de6494d9d369d92f.dir
      size: 12440780
      nfiles: 1
    - path: src/pipelines/transform.py
      hash: md5
      md5: c890ff239fcccf16aefd04c3cd4eb79e
      size: 3694
    params:
      params.yaml:
        transform.input_path: data/combined/all_laps.csv
        transform.outlier_lap_time_percentage: 1.0
        transform.output_path: data/processed/processed_data.csv
    outs:
    - path: data/processed/processed_data.csv
      hash: md5
      md5: 105b1437c07a0f9dc1dc442405127d39
      size: 6489742
  transform_pitstops:
    cmd: python src/pipelines/transform_pitstops.py
    deps:
    - path: data/combined/all_laps.csv
      hash: md5
      md5: 6258da406691b0a131b5a700082e303a
      size: 14827862
    - path: src/pipelines/transform_pitstops.py
      hash: md5
      md5: 9979c03442ddf2ea101362f1237525b8
      size: 2750
    params:
      params.yaml:
        transform_pitstops.input_path: data/combined/all_laps.csv
        transform_pitstops.min_pit_delta: 35.0
        transform_pitstops.output_path: data/processed/pit_stop_data.csv
    outs:
    - path: data/processed/pit_stop_data.csv
      hash: md5
      md5: 40a8fc74dce842ad179fa43b9f3e7d71
      size: 28
